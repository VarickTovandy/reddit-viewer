@import "tailwindcss";

/* Theme Variables */
@theme {
  /* Color System */
  --color-background: oklch(100% 0 0);          /* white */
  --color-foreground: oklch(10% 0 0);           /* near black */
  
  --color-card: oklch(100% 0 0);                /* white */
  --color-card-foreground: oklch(10% 0 0);      /* near black */
  
  --color-popover: oklch(100% 0 0);             /* white */
  --color-popover-foreground: oklch(10% 0 0);   /* near black */
  
  --color-primary: oklch(15% 0 0);              /* very dark gray */
  --color-primary-foreground: oklch(98% 0 0);   /* near white */
  
  --color-secondary: oklch(96% 0 0);            /* light gray */
  --color-secondary-foreground: oklch(15% 0 0); /* dark gray */
  
  --color-muted: oklch(96% 0 0);                /* light gray */
  --color-muted-foreground: oklch(45% 0 0);     /* medium gray */
  
  --color-accent: oklch(96% 0 0);               /* light gray */
  --color-accent-foreground: oklch(15% 0 0);    /* dark gray */
  
  --color-destructive: oklch(60% 0.25 27);      /* red */
  --color-destructive-foreground: oklch(98% 0 0); /* near white */
  
  --color-border: oklch(90% 0 0);               /* light gray border */
  --color-input: oklch(90% 0 0);                /* light gray border */
  --color-ring: oklch(10% 0 0);                 /* focus ring */
  
  /* Reddit-specific colors */
  --color-reddit-orange: oklch(60% 0.2 40);     /* #FF4500 - upvote */
  --color-reddit-blue: oklch(60% 0.15 250);     /* #3182CE - downvote */
  --color-reddit-gray: oklch(53% 0 0);          /* gray for meta text */
  
  /* Spacing & Radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-full: 9999px;
}

/* Dark mode overrides */
.dark {
  @theme {
    --color-background: oklch(10% 0 0);           /* near black */
    --color-foreground: oklch(98% 0 0);           /* near white */
    
    --color-card: oklch(13% 0 0);                 /* very dark gray */
    --color-card-foreground: oklch(98% 0 0);      /* near white */
    
    --color-popover: oklch(13% 0 0);              /* very dark gray */
    --color-popover-foreground: oklch(98% 0 0);   /* near white */
    
    --color-primary: oklch(98% 0 0);              /* near white */
    --color-primary-foreground: oklch(15% 0 0);   /* dark gray */
    
    --color-secondary: oklch(20% 0 0);            /* dark gray */
    --color-secondary-foreground: oklch(98% 0 0); /* near white */
    
    --color-muted: oklch(20% 0 0);                /* dark gray */
    --color-muted-foreground: oklch(64% 0 0);     /* light gray */
    
    --color-accent: oklch(20% 0 0);               /* dark gray */
    --color-accent-foreground: oklch(98% 0 0);    /* near white */
    
    --color-destructive: oklch(50% 0.2 27);       /* dark red */
    --color-destructive-foreground: oklch(98% 0 0); /* near white */
    
    --color-border: oklch(20% 0 0);               /* dark gray border */
    --color-input: oklch(20% 0 0);                /* dark gray border */
    --color-ring: oklch(83% 0 0);                 /* light focus ring */
    
    /* Reddit-specific colors (adjusted for dark mode) */
    --color-reddit-orange: oklch(65% 0.2 40);     /* slightly brighter */
    --color-reddit-blue: oklch(65% 0.15 250);     /* slightly brighter */
    --color-reddit-gray: oklch(60% 0 0);          /* lighter gray */
  }
}

/* Base styles */
* {
  border-color: var(--color-border);
}

body {
  background-color: var(--color-background);
  color: var(--color-foreground);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Utility classes for Reddit-specific usage */
@utility text-reddit-orange {
  color: var(--color-reddit-orange);
}

@utility text-reddit-blue {
  color: var(--color-reddit-blue);
}

@utility text-reddit-gray {
  color: var(--color-reddit-gray);
}

@utility bg-reddit-orange {
  background-color: var(--color-reddit-orange);
}

@utility bg-reddit-blue {
  background-color: var(--color-reddit-blue);
}

/* Custom utility classes */
@utility hover-card {
  transition-property: background-color;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
  
  &:hover {
    background-color: var(--color-accent);
  }
}

@utility post-border {
  border-left-width: 4px;
  border-color: transparent;
  transition-property: border-color;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
  
  &:hover {
    border-color: var(--color-reddit-orange);
  }
}

/* Skeleton loading animation */
@keyframes skeleton-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@utility skeleton {
  animation: skeleton-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  background-color: var(--color-muted);
}

/* Custom variants for theme-aware components */
@variant reddit-upvoted {
  &:where(.upvoted, [data-upvoted="true"]) {
    color: var(--color-reddit-orange);
  }
}

@variant reddit-downvoted {
  &:where(.downvoted, [data-downvoted="true"]) {
    color: var(--color-reddit-blue);
  }
}